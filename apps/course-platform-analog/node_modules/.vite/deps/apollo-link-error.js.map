{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/apollo-link-error@1.1.13_graphql@15.8.0/node_modules/apollo-link-error/lib/bundle.esm.js"],
  "sourcesContent": ["import { __extends } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\n\nexport { ErrorLink, onError };\n\n"],
  "mappings": ";;;;;;;;;;AAGA,SAAS,QAAQ,cAAc;AAC3B,SAAO,IAAI,WAAW,SAAU,WAAW,SAAS;AAChD,WAAO,IAAI,mBAAW,SAAU,UAAU;AACtC,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACA,cAAM,QAAQ,SAAS,EAAE,UAAU;AAAA,UAC/B,MAAM,SAAU,QAAQ;AACpB,gBAAI,OAAO,QAAQ;AACf,8BAAgB,aAAa;AAAA,gBACzB,eAAe,OAAO;AAAA,gBACtB,UAAU;AAAA,gBACV;AAAA,gBACA;AAAA,cACJ,CAAC;AACD,kBAAI,eAAe;AACf,6BAAa,cAAc,UAAU;AAAA,kBACjC,MAAM,SAAS,KAAK,KAAK,QAAQ;AAAA,kBACjC,OAAO,SAAS,MAAM,KAAK,QAAQ;AAAA,kBACnC,UAAU,SAAS,SAAS,KAAK,QAAQ;AAAA,gBAC7C,CAAC;AACD;AAAA,cACJ;AAAA,YACJ;AACA,qBAAS,KAAK,MAAM;AAAA,UACxB;AAAA,UACA,OAAO,SAAU,cAAc;AAC3B,4BAAgB,aAAa;AAAA,cACzB;AAAA,cACA;AAAA,cACA,eAAe,gBACX,aAAa,UACb,aAAa,OAAO;AAAA,cACxB;AAAA,YACJ,CAAC;AACD,gBAAI,eAAe;AACf,2BAAa,cAAc,UAAU;AAAA,gBACjC,MAAM,SAAS,KAAK,KAAK,QAAQ;AAAA,gBACjC,OAAO,SAAS,MAAM,KAAK,QAAQ;AAAA,gBACnC,UAAU,SAAS,SAAS,KAAK,QAAQ;AAAA,cAC7C,CAAC;AACD;AAAA,YACJ;AACA,qBAAS,MAAM,YAAY;AAAA,UAC/B;AAAA,UACA,UAAU,WAAY;AAClB,gBAAI,CAAC,eAAe;AAChB,uBAAS,SAAS,KAAK,QAAQ,EAAE;AAAA,YACrC;AAAA,UACJ;AAAA,QACJ,CAAC;AAAA,MACL,SACO,GAAG;AACN,qBAAa,EAAE,cAAc,GAAG,WAAsB,QAAiB,CAAC;AACxE,iBAAS,MAAM,CAAC;AAAA,MACpB;AACA,aAAO,WAAY;AACf,YAAI;AACA,cAAI,YAAY;AACpB,YAAI;AACA,cAAI,YAAY;AAAA,MACxB;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACL;AACA,IAAI,YAAa,SAAU,QAAQ;AAC/B,YAAUA,YAAW,MAAM;AAC3B,WAASA,WAAU,cAAc;AAC7B,QAAI,QAAQ,OAAO,KAAK,IAAI,KAAK;AACjC,UAAM,OAAO,QAAQ,YAAY;AACjC,WAAO;AAAA,EACX;AACA,EAAAA,WAAU,UAAU,UAAU,SAAU,WAAW,SAAS;AACxD,WAAO,KAAK,KAAK,QAAQ,WAAW,OAAO;AAAA,EAC/C;AACA,SAAOA;AACX,EAAE,UAAU;",
  "names": ["ErrorLink"]
}
