<mat-tab-group>
  <mat-tab label="Personal Profile">
    <h1 class="mb-xl mt-xl title">Edit Your Profile</h1>

    <form
      [formGroup]="profileForm"
      *ngIf="profileForm$ | async as profileForm"
      (submit)="onUpdateProfile(profileForm)"
    >
      <!-- TODO: tabs and reset password functionality -->

      <!-- TODO: add positioning helpers for pr and pl -->
      <div fxLayout="row" fxLayoutGap="16px" class="mb-m">
        <mat-form-field class="pr-l" fxFlex="50">
          <mat-label>Full name</mat-label>
          <input matInput formControlName="fullName" />
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutGap="16px" class="mb-m">
        <mat-form-field class="pr-l" fxFlex="50">
          <mat-label>Email address</mat-label>
          <input
            matInput
            [disabled]="true"
            [readonly]="true"
            formControlName="email"
          />
        </mat-form-field>
        <mat-form-field class="pl-l" fxFlex="50">
          <mat-label>User id</mat-label>
          <input
            matInput
            [disabled]="true"
            [readonly]="true"
            formControlName="uid"
          />
        </mat-form-field>
      </div>

      <div fxLayout="row" class="mt-m" fxLayoutGap="16px">
        <app-button
          size="l"
          type="submit"
          color="success"
          data-test="saveprofile-btn"
          class="submit-btn"
        >
          Save
        </app-button>
      </div>

      <div fxLayout="row" class="mt-xl" fxLayoutGap="16px">
        <app-button
          size="l"
          data-test="logout-btn"
          type="button"
          color="accent"
          class="submit-btn"
          (click)="onLogout()"
        >
          Logout
        </app-button>
      </div>
    </form>
  </mat-tab>
  <mat-tab label="Change Password">
    <h1 class="mb-xl mt-xl title">Change Password</h1>

    <form [formGroup]="changePwForm" (submit)="onChangePassword()">
      <div fxLayout="row" fxLayoutGap="16px" class="mb-m">
        <mat-form-field class="pr-l" fxFlex="50">
          <mat-label>Current Password</mat-label>
          <input matInput type="password" formControlName="currentPassword" />
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutGap="16px">
        <mat-form-field class="pr-l" fxFlex="50">
          <mat-label>New Password</mat-label>
          <input matInput type="password" formControlName="newPassword" />
        </mat-form-field>
        <mat-form-field class="pl-l" fxFlex="50">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="confirmPassword" />
        </mat-form-field>
      </div>
      <div>
        <label class="error">{{ errorMessage }}</label>
      </div>
      <div fxLayout="row" class="mt-m" fxLayoutGap="16px">
        <app-button size="l" type="submit" color="success" class="submit-btn">
          Save
        </app-button>
      </div>
    </form>
  </mat-tab>
</mat-tab-group>
