<div
  class="wrapper"
  fxLayout.gt-xs="row"
  fxLayout.lt-sm="column"
  xLayoutAlign="space-between"
>
  <ng-container *ngIf="isLoading$ | async; else notLoading">
    <app-spinner class="spinner"></app-spinner>
  </ng-container>
  <ng-template #notLoading>
    <app-course-sidebar
      fxFlex.gt-xs="25"
      class="sidebar"
      [sections]="sections$ | async"
      [selectedSection]="selectedSection$ | async"
      [lessons]="sectionLessons$ | async"
      [sectionCompletedPct]="sectionCompletedPct$ | async"
      [selectedLessonId]="selectedLessonId$ | async"
      (lessonSelected)="onLessonSelected($event)"
      (sectionChanged)="onSectionSelected($event)"
    ></app-course-sidebar>

    <div class="content" fxFlex.gt-xs="75">
      <router-outlet></router-outlet>
    </div>
  </ng-template>
</div>
